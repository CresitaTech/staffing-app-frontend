<div class="card shadow-sm p-0">
    <div class="card-header">
        <div class="row">
            <div class="col">
                <h5 class="card-title mb-0">Submissions of {{recruiter_name}} :- {{title}} </h5>
            </div>

            <div class="col-auto">
               
                <div class="form-check form-check-inline">
                    <a class="chart-icon btn-link ml-4" (click)="downloadCsvFile()"  data-toggle="tooltip" data-placement="top" title="Download CSV">
                        <i class="fas fa-file-excel"></i>
                    </a>
                   
                </div>    
                
            
        </div> 

            <!-- bdm -->
            <!-- <div class="col-auto" *ngIf="!isTabular && chartType === ChartTypeEnum.BAR">
                <select class="form-control form-control-sm" aria-label="Default select example" name="select"
                    [ngModel]="xAxisFilter" (ngModelChange)="filterRecruiter($event);xAxisFilter = $event;">
                    <option selected value="none">Select BDM</option>
                    <option value="ALL">ALL</option>
                    <option *ngFor="let r of setForJobSummary;" [ngValue]="r">{{r}}</option>
                </select>
            </div> -->
            <!-- bdm -->
            <!-- <div class="col-auto" *ngIf="isTabular">
                <select class="form-control form-control-sm" aria-label="Default select example" name="select"
                    [ngModel]="xAxisFilter"
                    (ngModelChange)="filterOnTable($event, xAxisFilterCountry); xAxisFilter = $event;">
                    <option selected value="none">Select BDM</option>
                    <option value="ALL">ALL</option>
                    <option *ngFor="let r of setForJobSummary;" [ngValue]="r">{{r}}</option>
                </select>
            </div> -->
            <!-- country -->
            <!-- <div class="col-auto" *ngIf="isTabular">
                <select class="form-control form-control-sm" aria-label="Default select example" name="select"
                    [ngModel]="xAxisFilterCountry"
                    (ngModelChange)="filterOnTable(xAxisFilter, $event); xAxisFilterCountry = $event;">
                    <option selected value="none">Select Country</option>
                    <option value="ALL">ALL</option>
                    <option *ngFor="let r of setForJobSummaryCountry;" [ngValue]="r">{{r}}</option>
                </select>
              


            </div> -->
            <!-- icons -->

            <!-- <div class="col-auto text-right">
                <a class="chart-icon btn-link mr-2" (click)="downloadFile('job_summary')" *ngIf="show_download" data-toggle="tooltip" data-placement="top" title="Download Excel/CSV">
                    <i class="fas fa-file-excel"></i>
                </a>
                <ng-container *ngIf="!isTabular">
                    <a class="chart-icon btn-link mr-2"
                        (click)="isTabular = true;filterOnTable(bdmName, xAxisFilterCountry);" *ngIf="show_tabular" data-toggle="tooltip" data-placement="top" title="Tabular data view">
                        <i class="fas fa-table"></i>
                    </a>
                    <a class="chart-icon btn-link mr-2" *ngIf="chartType === ChartTypeEnum.LINE"
                        (click)="chartType = ChartTypeEnum.BAR; setBackground(); isTabular = false; filterOnTable(bdmName, xAxisFilterCountry);" data-toggle="tooltip" data-placement="top" title="Bar graph view">
                        <i class="fas fa-chart-bar"></i>
                    </a>
                    <a class="chart-icon btn-link" *ngIf="chartType !== ChartTypeEnum.LINE"
                        (click)="chartType = ChartTypeEnum.LINE; setBackground(); isTabular = false; filterOnTable(bdmName, xAxisFilterCountry);" data-toggle="tooltip" data-placement="top" title="Line graph view">
                        <i class="fas fa-chart-line"></i>
                    </a>
                </ng-container>
                <ng-container *ngIf="isTabular">
                    <a class="chart-icon btn-link mr-2"
                        (click)="chartType = ChartTypeEnum.BAR; setBackground(); isTabular = false;filterRecruiter(bdmName);" data-toggle="tooltip" data-placement="top" title="Bar graph view">
                        <i class="fas fa-chart-bar"></i>
                    </a>
                    <a class="chart-icon btn-link"
                        (click)="chartType = ChartTypeEnum.LINE; setBackground(); isTabular = false ;filterRecruiter(bdmName);" data-toggle="tooltip" data-placement="top" title="Line graph view">
                        <i class="fas fa-chart-line"></i>
                    </a>
                </ng-container>
            </div> -->

            <!-- Date -->

            <!-- <div class="col-auto pt-1 ml-4" *ngIf="dateRange === allDateRange.CUSTOM">
                <b>From</b> {{startDate}} <b> to </b> {{endDate}}
            </div>
            <div class="col-auto pr-0  pl-0">
                <a class="chart-icon btn-link" (click)="openDateRangeModal()" *ngIf="dateRange === allDateRange.CUSTOM">
                    <i class="fas fa-calendar-alt"></i>
                </a>
            </div>
            <div class="col-auto">
                <select class="form-control form-control-sm" aria-label="Default select example" name="select"
                    [ngModel]="dateRange" (ngModelChange)="dateRangeChanged($event)">

                    <option *ngFor="let r of dateRangeKeys" value="{{allDateRange[r]}}">{{allDateRange[r].replaceAll("-", " ") | titlecase}}
                    </option>
                </select>
            </div> -->


        </div>
    </div>
    <div class="card-body pt-0 pb-0">
        <div class="row">
            
            <div class="col graph" >
                <div class="table-responsive">
                    <!-- <table class="table">
                        <tr>
                            <th>Stages</th>
                            <th *ngFor="let n of chartLabels">{{n}}</th>
                        </tr>
                        <tr *ngFor="let d of chartData">
                            <td>{{d.label}}</td>
                            <td *ngFor="let u of d.data">{{u}}</td>
                        </tr>
                    </table> -->
                    <!-- <table class="table">
                        <tr>
                            <th>Candidate Name</th>
                            <th>Candidate Stage</th>
                            <th>Job Title</th>
                            <th>Total Experience</th>
                            <th>Salary ($)</th>
                            <th>Rate ($)</th>
                            <th>Client Name</th>
                            <th>Bdm Name</th>
                            <th>Location</th>
                            <th>Submission Date</th>
                            <th>Job Date</th>
                        </tr>
                        <tr *ngFor="let d of tabularData;">
                            <td>{{d.candidate_name ? d.candidate_name : '--'}}</td>
                            <td>{{d.status ? d.status : '--'}}</td>
                            <td>{{d.job_title ? d.job_title : '--'}}</td>
                            <td>{{d.total_experience ? d.total_experience : '--'}}</td>
                            <td>
                            <span *ngIf="d.min_salary && !d.max_salary">
                                {{d.min_salary| currency:'USD'}}
                            </span>
                            <span *ngIf="!d.min_salary && d.max_salary">
                                {{d.max_salary| currency:'USD'}}
                            </span>
                            <span *ngIf="d.min_salary && d.max_salary">
                                {{d.min_salary| currency:'USD'}}-{{d.max_salary| currency:'USD'}}
                            </span>
                            <span *ngIf="!d.min_salary && !d.max_salary">
                                   --
                            </span>
                            </td>
                            <td>
                                <span *ngIf="d.min_rate && !d.max_rate">
                                    {{d.min_rate| currency:'USD'}}
                                </span>
                                <span *ngIf="!d.min_rate && d.max_rate">
                                    {{d.max_rate| currency:'USD'}
                                </span>
                                <span *ngIf="d.min_rate && d.max_rate">
                                    {{d.min_rate| currency:'USD'}}-{{d.max_rate| currency:'USD'}}
                                </span>
                                <span *ngIf="!d.min_rate && !d.max_rate">
                                       --
                                </span>
                                </td>
                            <td>{{d.client_name ? d.client_name : '--'}}</td>
                            <td>{{d.bdm_name ? d.bdm_name : '--'}}</td>
                            <td>{{d.location ? d.location : '--'}}</td>
                            <td>{{d.submission_date ? d.submission_date : '--'}}</td>
                            <td>{{d.job_date ? d.job_date : '--'}}</td>
                        </tr>
                    </table> -->
                    <div class="example-header">
                        Page Size:
                        <select (change)="onPageSizeChanged()" id="page-size">
                            <option value="10" selected="">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="500">500</option>
                            <option value="1000">1000</option>
                        </select>
                    </div>

                    <ag-grid-angular style="width: 100%; height: 500px;" class="ag-theme-alpine"  
                        [rowData]="tabularDataForFilter" [columnDefs]="columnDefs" pagination=true  
                        paginationPageSize="10" (gridReady)="onGridReady($event)">
                    </ag-grid-angular>

                </div>
            </div>
        </div>
    </div>
</div>